(this["webpackJsonpseam-navigator"]=this["webpackJsonpseam-navigator"]||[]).push([[0],{16:function(e,t,r){},17:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(10),s=r.n(o),i=(r(16),r(2)),c=r(3),d=r(5),u=r(4),l=(r(17),r(7)),h=r(0),p=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props.id,r=t+"StopOptions",n=this.props.selected;return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{value:n,list:r,placeholder:"Enter stop...",onChange:function(r){return e.props.onChange(t,r.target.value)}}),Object(h.jsx)("datalist",{id:r,children:this.props.options.map((function(e){return Object(h.jsx)("option",{value:e.label},e.id)}))}),Object(h.jsx)("button",{onClick:function(){return e.props.onDelete(t)},children:"Delete Stop"})]})}}]),r}(n.Component),j=r(11);function b(e,t,r){var n=e.nodes[t],a=e.nodes[r];if(void 0!==n&&void 0!==a){var o=f(n,a),s=function(e,t,r){var n={},a={},o=new Set(Object.keys(e.nodes)),s={};o.forEach((function(e){n[e]=Number.MAX_VALUE,a[e]=void 0,s[e]=[]})),e.edges.forEach((function(e){var t=e[0],r=e[1];s[t].push(r),s[r].push(t)})),n[t]=0;for(;o.size>0;){var i=Object.keys(n).filter((function(e){return o.has(e)})).reduce((function(e,t){return n[t]<n[e]?t:e}));o.delete(i);var c,d=Object(j.a)(s[i]);try{for(d.s();!(c=d.n()).done;){var u=c.value,l=f(e.nodes[i],e.nodes[u]),h=n[i]+l;h<n[u]&&(n[u]=h,a[u]=[i,l])}}catch(p){d.e(p)}finally{d.f()}}return function(e,t){if(void 0===e[t])return[];for(var r=t,n=[];void 0!==e[r];){var a=e[r];n.push({to:r,from:a[0],distance:a[1]}),r=a[0]}return n.reverse()}(a,r)}(e,t,r);return{chalkedDistance:s.map((function(e){return e.distance})).reduce((function(e,t){return e+t}),0),crowDistance:o,route:s,from:t,to:r}}}function f(e,t){var r=e.x-t.x,n=e.y-t.y,a=e.z-t.z;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(a,2))}var v=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(e){var n;Object(i.a)(this,r),(n=t.call(this,e)).handleChangeStop=function(e,t){var r=n.getIdFromLabel(t),a=Object(l.a)(n.state.route);a[e]=r,n.setState({route:a})},n.handleDeleteStop=function(e){var t=Object(l.a)(n.state.route);t.splice(e,1),n.setState({route:t})},n.handleAddStop=function(){n.setState((function(e){return{route:[].concat(Object(l.a)(e.route),[""])}}))};var a=e.map,o=e.map.nodes,s=Object.keys(o).filter((function(e){return!o[e].hidden})).map((function(e){return{id:e,label:o[e].name}}));return n.state={map:a,stops:s,route:["",""],distance:0},n}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.state.route;return Object(h.jsxs)("div",{children:[Object(h.jsx)("ul",{children:t.map((function(t,r){return Object(h.jsx)(p,{id:r,options:e.state.stops,selected:e.getLabelFromId(t),onChange:e.handleChangeStop,onDelete:e.handleDeleteStop},r)}))}),Object(h.jsx)("button",{onClick:this.handleAddStop,children:"Add Stop"}),Object(h.jsx)("ul",{children:this.renderRouteDetails()})]})}},{key:"renderRouteDetails",value:function(){var e=this,t=this.state.route;return Object(l.a)(Array(t.length-1).keys()).map((function(r){return e.calculateLeg(t[r],t[r+1])})).filter((function(e){return void 0!==e})).map((function(t){return Object(h.jsxs)("li",{children:[e.getLabelFromId(t.from)+" to "+e.getLabelFromId(t.to),Object(h.jsxs)("p",{children:["Chalked Distance: ",t.chalkedDistance," miles"]}),Object(h.jsxs)("p",{children:["Crow Distance: ",t.crowDistance," miles"]}),Object(h.jsx)("p",{children:"Route:"}),Object(h.jsx)("ul",{children:t.route.map((function(t){return Object(h.jsxs)("li",{children:[e.getLabelFromId(t.from)," -> ",e.getLabelFromId(t.to)," (",t.distance,")"]},t.from+t.to)}))})]},t.from+t.to)}))}},{key:"getIdFromLabel",value:function(e){var t=this.state.stops.find((function(t){return t.label===e}));return t?t.id:void 0}},{key:"getLabelFromId",value:function(e){var t=this.state.stops.find((function(t){return t.id===e}));return t?t.label:""}},{key:"calculateLeg",value:function(e,t){return b(this.state.map,e,t)}}]),r}(n.Component),m={nodes:{velour:{name:"Velour",x:0,y:0,z:0,hidden:!1},jacquard:{name:"Jacquard",x:-321,y:731,z:146,hidden:!1},poplin:{name:"Poplin",x:282,y:423,z:173,hidden:!1},gathernotch:{name:"Gathernotch",x:1079,y:501,z:589,hidden:!1},leewardCrossroads:{name:"The Leeward Crossroads",x:2e3,y:0,z:0,hidden:!1},windwardCrossroads:{name:"The Windward Crossroads",x:-2e3,y:0,z:0,hidden:!1},upperWyroads:{name:"The Upper Wyroads",x:0,y:2e3,z:0,hidden:!1},lowerWyroads:{name:"The Lower Wyroads",x:0,y:-2e3,z:0,hidden:!1},starboardZeeroads:{name:"The Starboard Zeeroads",x:0,y:0,z:2e3,hidden:!1},portZeeroads:{name:"The Port Zeeroads",x:0,y:0,z:-2e3,hidden:!1},hopsack:{name:"Hopsack",x:851,y:1532,z:-2973,hidden:!1},caves:{name:"The Caves",x:-1589,y:1623,z:-963,hidden:!0},tambour:{name:"Tambour",x:-731,y:-2531,z:891,hidden:!1}},edges:[["velour","jacquard"],["velour","poplin"],["velour","gathernotch"],["velour","upperWyroads"],["velour","lowerWyroads"],["velour","windwardCrossroads"],["velour","leewardCrossroads"],["velour","starboardZeeroads"],["velour","portZeeroads"],["poplin","gathernotch"],["portZeeroads","hopsack"],["lowerWyroads","tambour"]]},O=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={map:m},e}return Object(c.a)(r,[{key:"render",value:function(){return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)("nav",{children:"Seam Navigator"}),Object(h.jsx)("main",{children:Object(h.jsx)(v,{map:m})})]})}}]),r}(n.Component);s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.1d396902.chunk.js.map